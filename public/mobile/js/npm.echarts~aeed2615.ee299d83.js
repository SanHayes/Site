(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["npm.echarts~aeed2615"],{"0eed":function(e,t,a){"use strict";a.d(t,"a",(function(){return M}));var i=a("9ab4"),n=a("c7a2"),r=a("0da8"),o=a("7d6c"),s=a("6d8b"),l=256,h=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=s["f"]();this.canvas=e}return e.prototype.update=function(e,t,a,i,n,r){var o=this._getBrush(),s=this._getGradient(n,"inRange"),h=this._getGradient(n,"outOfRange"),c=this.pointSize+this.blurSize,u=this.canvas,p=u.getContext("2d"),g=e.length;u.width=t,u.height=a;for(var d=0;d<g;++d){var m=e[d],y=m[0],f=m[1],v=m[2],S=i(v);p.globalAlpha=S,p.drawImage(o,y-c,f-c)}if(!u.width||!u.height)return u;var b=p.getImageData(0,0,u.width,u.height),O=b.data,w=0,x=O.length,M=this.minOpacity,z=this.maxOpacity,C=z-M;while(w<x){S=O[w+3]/256;var I=4*Math.floor(S*(l-1));if(S>0){var _=r(S)?s:h;S>0&&(S=S*C+M),O[w++]=_[I],O[w++]=_[I+1],O[w++]=_[I+2],O[w++]=_[I+3]*S*256}else w+=4}return p.putImageData(b,0,0),u},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=s["f"]()),t=this.pointSize+this.blurSize,a=2*t;e.width=a,e.height=a;var i=e.getContext("2d");return i.clearRect(0,0,a,a),i.shadowOffsetX=a,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},e.prototype._getGradient=function(e,t){for(var a=this._gradientPixels,i=a[t]||(a[t]=new Uint8ClampedArray(1024)),n=[0,0,0,0],r=0,o=0;o<256;o++)e[t](o/255,!0,n),i[r++]=n[0],i[r++]=n[1],i[r++]=n[2],i[r++]=n[3];return i},e}(),c=h,u=a("e887"),p=a("5426"),g=a("7837");function d(e,t,a){var i=e[1]-e[0];t=s["H"](t,(function(t){return{interval:[(t.interval[0]-e[0])/i,(t.interval[1]-e[0])/i]}}));var n=t.length,r=0;return function(e){var i;for(i=r;i<n;i++){var o=t[i].interval;if(o[0]<=e&&e<=o[1]){r=i;break}}if(i===n)for(i=r-1;i>=0;i--){o=t[i].interval;if(o[0]<=e&&e<=o[1]){r=i;break}}return i>=0&&i<n&&a[i]}}function m(e,t){var a=e[1]-e[0];return t=[(t[0]-e[0])/a,(t[1]-e[0])/a],function(e){return e>=t[0]&&e<=t[1]}}function y(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var f=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(i["b"])(t,e),t.prototype.render=function(e,t,a){var i;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(a){a===e&&(i=t)}))})),this.group.removeAll(),this._incrementalDisplayable=null;var n=e.coordinateSystem;"cartesian2d"===n.type||"calendar"===n.type?this._renderOnCartesianAndCalendar(e,a,0,e.getData().count()):y(n)&&this._renderOnGeo(n,e,i,a)},t.prototype.incrementalPrepareRender=function(e,t,a){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,a,i){var n=t.coordinateSystem;n&&(y(n)?this.render(t,a,i):this._renderOnCartesianAndCalendar(t,i,e.start,e.end,!0))},t.prototype._renderOnCartesianAndCalendar=function(e,t,a,i,r){var s,l,h,c,u=e.coordinateSystem;if(Object(p["a"])(u,"cartesian2d")){var d=u.getAxis("x"),m=u.getAxis("y");0,s=d.getBandWidth(),l=m.getBandWidth(),h=d.scale.getExtent(),c=m.scale.getExtent()}for(var y=this.group,f=e.getData(),v=e.getModel(["emphasis","itemStyle"]).getItemStyle(),S=e.getModel(["blur","itemStyle"]).getItemStyle(),b=e.getModel(["select","itemStyle"]).getItemStyle(),O=Object(g["e"])(e),w=e.get(["emphasis","focus"]),x=e.get(["emphasis","blurScope"]),M=Object(p["a"])(u,"cartesian2d")?[f.mapDimension("x"),f.mapDimension("y"),f.mapDimension("value")]:[f.mapDimension("time"),f.mapDimension("value")],z=a;z<i;z++){var C=void 0,I=f.getItemVisual(z,"style");if(Object(p["a"])(u,"cartesian2d")){var _=f.get(M[0],z),D=f.get(M[1],z);if(isNaN(f.get(M[2],z))||_<h[0]||_>h[1]||D<c[0]||D>c[1])continue;var R=u.dataToPoint([_,D]);C=new n["a"]({shape:{x:Math.floor(Math.round(R[0])-s/2),y:Math.floor(Math.round(R[1])-l/2),width:Math.ceil(s),height:Math.ceil(l)},style:I})}else{if(isNaN(f.get(M[1],z)))continue;C=new n["a"]({z2:1,shape:u.dataToRect([f.get(M[0],z)]).contentShape,style:I})}var j=f.getItemModel(z);if(f.hasItemOption){var A=j.getModel("emphasis");v=A.getModel("itemStyle").getItemStyle(),S=j.getModel(["blur","itemStyle"]).getItemStyle(),b=j.getModel(["select","itemStyle"]).getItemStyle(),w=A.get("focus"),x=A.get("blurScope"),O=Object(g["e"])(j)}var P=e.getRawValue(z),T="-";P&&null!=P[2]&&(T=P[2]+""),Object(g["g"])(C,O,{labelFetcher:e,labelDataIndex:z,defaultOpacity:I.opacity,defaultText:T}),C.ensureState("emphasis").style=v,C.ensureState("blur").style=S,C.ensureState("select").style=b,Object(o["k"])(C,w,x),C.incremental=r,r&&(C.states.emphasis.hoverLayer=!0),y.add(C),f.setItemGraphicEl(z,C)}},t.prototype._renderOnGeo=function(e,t,a,i){var n=a.targetVisuals.inRange,o=a.targetVisuals.outOfRange,s=t.getData(),l=this._hmLayer||this._hmLayer||new c;l.blurSize=t.get("blurSize"),l.pointSize=t.get("pointSize"),l.minOpacity=t.get("minOpacity"),l.maxOpacity=t.get("maxOpacity");var h=e.getViewRect().clone(),u=e.getRoamTransform();h.applyTransform(u);var p=Math.max(h.x,0),g=Math.max(h.y,0),y=Math.min(h.width+h.x,i.getWidth()),f=Math.min(h.height+h.y,i.getHeight()),v=y-p,S=f-g,b=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],O=s.mapArray(b,(function(t,a,i){var n=e.dataToPoint([t,a]);return n[0]-=p,n[1]-=g,n.push(i),n})),w=a.getExtent(),x="visualMap.continuous"===a.type?m(w,a.option.range):d(w,a.getPieceList(),a.option.selected);l.update(O,v,S,n.color.getNormalizer(),{inRange:n.color.getColorMapper(),outOfRange:o.color.getColorMapper()},x);var M=new r["a"]({style:{width:v,height:S,x:p,y:g,image:l.canvas},silent:!0});this.group.add(M)},t.type="heatmap",t}(u["a"]),v=f,S=a("4f85"),b=a("3301"),O=a("1f39"),w=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(i["b"])(t,e),t.prototype.getInitialData=function(e,t){return Object(b["a"])(this.getSource(),this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=O["a"].get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(S["a"]),x=w;function M(e){e.registerChartView(v),e.registerSeriesModel(x)}}}]);