(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cb18df8"],{"1c00":function(t,i,s){},"786e":function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("mu-container",{staticClass:"container-my"},[s("div",{staticClass:"home lockming"},[s("div",{staticClass:"header"},[t._v(" "+t._s(t.income.currency_name||"")+t._s(t.$t("lockming.lockming"))+" "),s("mu-button",{attrs:{icon:""},on:{click:function(i){return t.$router.back(-1)}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-fanhui2"}})])])],1),s("div",{staticClass:"container-my"},[s("div",{staticClass:"deposit mt15 mx15"},[s("div",{staticClass:"fs14"},[t._v(" "+t._s(t.income.currency_name||"")+t._s(t.$t("lockming.lockming"))+" ")]),s("div",{staticClass:"fs16 mt5"},[t._v(" "+t._s(t.$t("lockming.acquisition"))+t._s(t.income.currency_name||"")+" ")]),s("div",{staticClass:"earnings-wrap mt15"},[s("div",{staticClass:"earnings"},[s("div",[s("div",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.minimumSingleTransaction")))]),s("div",{staticClass:"mt5"},[t._v(" "+t._s(t.income.pricemin))])]),s("div",[s("div",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.dailyYield")))]),s("div",{staticClass:"mt5"},[t._v(" "+t._s(t.income.rates||0)+"%")])]),s("div",[s("div",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.lockUpPeriod")))]),s("div",{staticClass:"mt5"},[t._v(" "+t._s(t.income.days)+"("+t._s(t.$t("lockming.day"))+")")])])])])]),s("div",{staticClass:"mt15 mx15"},[s("div",{staticClass:"p15 box-shadow border-radius-10 mb10 bg-black"},[s("div",{staticClass:"title d-flex-between-center"},[s("span",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.dividendTime")))]),s("span",{staticClass:"font-weight-bold text-warning fs14 px10"},[t._v(" "+t._s(t.income.days)+"("+t._s(t.$t("lockming.day"))+")"+t._s(t.$t("lockming.redemption"))+" ")])]),s("div",{staticClass:"title d-flex-between-center mt10"},[s("span",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.escrowFunds")))]),s("span",{staticClass:"font-weight-bold text-warning fs14 px10"},[t._v(" "+t._s(t.$t("lockming.returnOnExpiration"))+" ")])])])]),s("div",{staticClass:"mt15 mx15"},[s("div",{staticClass:"p15 box-shadow border-radius-10 mb10 bg-black"},[s("div",{staticClass:"number"},[s("div",{staticClass:"title opa50"},[t._v(t._s(t.$t("lockming.numberOfCoinsDeposited"))+"("+t._s(t.income.currency_name)+")")]),s("div",{staticClass:"num-inp"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{type:"number"},domProps:{value:t.money},on:{input:function(i){i.target.composing||(t.money=i.target.value)}}}),s("span",{staticClass:"tag tag-warning fs14 px10",on:{click:t.all}},[t._v(" "+t._s(t.$t("lockming.all"))+" ")])])]),s("div",{staticClass:"title d-flex-between-center mt10"},[s("span",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.estimatedIncome"))+"("+t._s(t.income.currency_name)+")")]),s("span",{staticClass:"font-weight-bold text-warning fs14 px10"},[t._v(" "+t._s((t.money*parseFloat(t.income.rates)/100).toFixed(8))+" ")])]),s("div",{staticClass:"title d-flex-between-center mt10"},[s("span",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.availableAssets"))+"("+t._s(t.income.currency_name)+")")]),s("span",{staticClass:"font-weight-bold text-warning fs14 px10"},[t._v(" "+t._s(t.balance)+" ")])])])])]),s("div",{staticClass:"footer"},[s("mu-button",{staticStyle:{background:"linear-gradient(1deg,#ffcc8f,#ffedd8)"},attrs:{"full-width":""},on:{click:t.submit}},[t._v(" "+t._s(t.$t("lockming.subscribe"))+" ")])],1)])])},n=[],a=s("1da1"),c=(s("a9e3"),s("7db0"),s("d3b7"),s("96cf"),s("fd2d")),o={name:"LockMing",components:{Footer:c["a"]},data:function(){return{income:{},id:"",money:"",balance:0}},computed:{i18n:function(){return this.$t("lockming")}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.id=t.$route.params.id,s=t.$loading(),i.next=4,t.getIncome();case 4:return i.next=6,t.getWallets();case 6:s.close();case 7:case"end":return i.stop()}}),i)})))()},methods:{inputMax:function(t){console.log("blur",this.money),Number(this.money)>Number(this.balance)&&(this.money=this.balance),Number(this.money)<Number(this.income.pricemin)&&(this.money=this.income.pricemin)},getIncome:function(){var t=this;return this.$http({url:"/api/get_mining_machine_info",method:"GET",params:{id:this.id},headers:{Authorization:localStorage.getItem("token")}}).then((function(i){var s=i.data;t.income=s.message||{}}))},getWallets:function(){var t=this,i=this.income.currency_name;return this.$http({url:"/api/wallet/list",method:"post",headers:{Authorization:localStorage.getItem("token")}}).then((function(s){var e=s.data.message||{},n=e.micro_wallet;if(n){var a=n.balance||[],c=a.find((function(t){return t.currency_name===i}));t.balance=c.micro_balance||0}}))},all:function(){this.money=this.balance},submit:function(){var t=this,i=this.i18n,s=this.money;this.pid,this.uid;if(!s||!this.amount(s))return this.$toast(i.p_number);if(s<Number(this.income.pricemin))return this.$toast(i.leastSingle+Number(this.income.pricemin));if(s>Number(this.balance))return this.$toast(i.insufficientBalance);var e=this.$loading();this.$http({url:"/api/buy_mining_machine",method:"post",headers:{Authorization:localStorage.getItem("token")},data:{id:this.id,money:this.money}}).then((function(i){t.$toast.success(t.$t("success")),setTimeout((function(){t.$router.back(-1)}),1e3)})).catch((function(i){t.$toast.fail(i.msg)})).finally((function(){e.close()}))},amount:function(t){return/^[1-9]\d*(,\d{3})*(\.\d{1,10})?$|^0\.\d{1,20}$/.test(t)}}},r=o,l=(s("870d"),s("2877")),m=Object(l["a"])(r,e,n,!1,null,"54aff7b6",null);i["default"]=m.exports},"870d":function(t,i,s){"use strict";s("1c00")}}]);