(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c8b25fe"],{"4c91":function(t,e,a){},"896c":function(t,e,a){"use strict";a("4c91")},f54f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap",staticStyle:{padding:"20px",background:"#FFFFFF"}},[a("div",{staticClass:"flex alcenter",staticStyle:{height:"50px"}},[a("div",{staticClass:"flex1 flex",staticStyle:{"padding-right":"15px","justify-content":"flex-end"}},[a("svg",{staticClass:"icon",staticStyle:{"font-size":"24px"},attrs:{color:"#999","aria-hidden":"true"},on:{click:function(e){return t.$router.back(-1)}}},[a("use",{attrs:{"xlink:href":"#icon-guanbi"}})])])]),a("mu-container",[a("h1",{staticStyle:{"line-height":"50px",margin:"0","margin-bottom":"30px"},attrs:{align:"left"}},[t._v(t._s(t.$t("pass3")))]),t.stepOne?a("mu-form",{ref:"form",staticClass:"mu-demo-form",attrs:{model:t.validateForm}},[a("mu-form-item",{attrs:{label:t.$t("pass5"),prop:"email"}},[a("mu-text-field",{attrs:{prop:"email"},model:{value:t.validateForm.email,callback:function(e){t.$set(t.validateForm,"email",e)},expression:"validateForm.email"}})],1),a("mu-form-item",{attrs:{label:t.$t("pass4"),prop:"withdraw_password"}},[a("mu-text-field",{attrs:{type:"password",prop:"withdraw_password"},model:{value:t.validateForm.withdraw_password,callback:function(e){t.$set(t.validateForm,"withdraw_password",e)},expression:"validateForm.withdraw_password"}})],1),a("mu-form-item",{attrs:{label:t.$t("register.codenum"),prop:"password"}},[a("mu-text-field",{attrs:{type:"number",autoComplete:"new-password",prop:"code"},model:{value:t.validateForm.code,callback:function(e){t.$set(t.validateForm,"code",e)},expression:"validateForm.code"}},[a("div",{attrs:{slot:"append"},slot:"append"},[a("mu-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingSend,expression:"loadingSend"}],attrs:{flat:"",color:"primary",disabled:t.isSending,"data-mu-loading-size":"24"},on:{click:t.sendCode}},[t._v(" "+t._s(t.isSending?t.$t("resend",{number:t.seconds}):t.$t("send"))+" ")])],1)])],1),a("mu-button",{staticStyle:{width:"100%",height:"40px"},attrs:{color:"primary"},on:{click:t.submit}},[t._v(t._s(t.$t("pass6"))+" ")])],1):t._e(),t.stepTwo?a("mu-form",{ref:"form",staticClass:"mu-demo-form",attrs:{model:t.validateForm}},[a("mu-form-item",{attrs:{label:t.$t("register.repwd"),prop:"repwd"}},[a("mu-text-field",{attrs:{"action-icon":t.visibilityre?":icon-kejian":":icon-bianzubeifenx","action-click":function(){return t.visibilityre=!t.visibilityre},type:t.visibilityre?"text":"password",prop:"repwd"},model:{value:t.validateForm.repwd,callback:function(e){t.$set(t.validateForm,"repwd",e)},expression:"validateForm.repwd"}})],1),a("mu-form-item",{attrs:{label:t.$t("lpwd.newpwd"),prop:"logpwd"}},[a("mu-text-field",{attrs:{"action-icon":t.visibilitylog?":icon-kejian":":icon-bianzubeifenx","action-click":function(){return t.visibilitylog=!t.visibilitylog},type:t.visibilitylog?"text":"password",prop:"logpwd"},model:{value:t.validateForm.logpwd,callback:function(e){t.$set(t.validateForm,"logpwd",e)},expression:"validateForm.logpwd"}})],1),a("mu-button",{staticStyle:{width:"100%",height:"40px"},attrs:{color:"primary",disabled:0===t.validateForm.email.length||0===t.validateForm.code.length||!t.canNext},on:{click:t.reset}},[t._v(t._s(t.$t("lpwd.spwd"))+" ")]),a("div",{staticClass:"flex",staticStyle:{height:"50px"}},[a("span",{staticClass:"flex1 flex alcenter",on:{click:function(e){return t.$router.push("/login")}}},[t._v(t._s(t.$t("register.gologin")))])])],1):t._e()],1)],1)},s=[],o=a("797a"),r={data:function(){return{usernameRules:[{validate:function(t){return!!t},message:"必须填写用户名"},{validate:function(t){return t.length>=3},message:"用户名长度大于3"}],passwordRules:[{validate:function(t){return!!t},message:"必须填写密码"},{validate:function(t){return t.length>=3&&t.length<=10},message:"密码长度大于3小于10"}],visibility:!1,argeeRules:[{validate:function(t){return!!t},message:"必须同意用户协议"}],validateForm:{password1:"",withdraw_password:"",email:"",code:"",isAgree:!1,country:"China",logpwd:"",repwd:"",invitecode:""},loadingSend:!1,isSending:!1,seconds:60,country:o["a"],canNext:!1,stepOne:!0,stepTwo:!1,visibilitylog:!1,visibilityre:!1,accountValid:!1}},beforeCreate:function(){},mounted:function(){},methods:{submit:function(){var t=this;this.$http({url:"/api/set_withdraw_password",method:"post",headers:{Authorization:localStorage.getItem("token")},data:{account:t.validateForm.email,code:t.validateForm.code,withdraw_password:t.validateForm.withdraw_password}}).then((function(e){e.data.type,t.$toast(e.data.message)}))},clear:function(){this.$refs.form.clear(),this.validateForm={email:"",password:"",isAgree:!1}},userInfo:function(){this.$http({url:"/api/user/info",method:"get",data:{},headers:{Authorization:localStorage.getItem("token")}}).then((function(t){"ok"===t.data.type&&(localStorage.setItem("user_id",t.data.message.id),localStorage.setItem("extension_code",t.data.message.extension_code),localStorage.setItem("is_seller",t.data.message.is_seller),eventBus.$emit("seller",t.data.message.is_seller))})).catch((function(t){}))},reset:function(){var t=this.$loading(),e=this;this.$http({url:"/api/user/forget",method:"post",data:{account:this.validateForm.email,password:this.validateForm.logpwd,repassword:this.validateForm.repwd,code:this.validateForm.code}}).then((function(a){t.close(),"ok"===a.data.type?(e.$toast.success(e.$t("legal.finished")),["token","user_id"].forEach((function(t){localStorage.removeItem(t)})),setTimeout((function(){e.$router.push("/login")}),2e3)):e.$toast.success(a.data.message)}))},sendCode:function(){var t=this,e="sms_mail",a=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;if(a.test(this.validateForm.email)){this.loadingSend=!0;var i={user_string:this.validateForm.email,type:"forget"};i.lang=window.localStorage.getItem("lang"),this.$http({url:"/api/"+e,method:"post",data:i,headers:{not_loading:!0}}).then((function(e){if(t.loadingSend=!1,t.isSending=!0,"error"!==e.data.type){t.$toast.success(e.data.message),t.canNext=!0;var a=setInterval((function(e){t.seconds--,0===t.seconds&&(t.seconds=60,clearInterval(a),t.isSending=!1)}),1e3)}else t.isSending=!1,t.$toast.fail(e.data.message)}))}else this.$toast.fail(this.$t("register.emailnum"))}}},n=r,l=(a("896c"),a("2877")),d=Object(l["a"])(n,i,s,!1,null,"6179bd06",null);e["default"]=d.exports}}]);