(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40e33b08"],{"13d5":function(t,e,i){"use strict";var n=i("23e7"),r=i("d58f").left,s=i("a640"),a=i("2d00"),o=i("605d"),c=s("reduce"),u=!o&&a>79&&a<83;n({target:"Array",proto:!0,forced:!c||u},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,i){"use strict";var n=i("6eeb"),r=i("825a"),s=i("d039"),a=i("ad6d"),o="toString",c=RegExp.prototype,u=c[o],d=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l=u.name!=o;(d||l)&&n(RegExp.prototype,o,(function(){var t=r(this),e=String(t.source),i=t.flags,n=String(void 0===i&&t instanceof RegExp&&!("flags"in c)?a.call(t):i);return"/"+e+"/"+n}),{unsafe:!0})},"297b":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("5319"),i("ac1f"),i("4d63"),i("25f0");function n(t,e){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(e)||[,""])[1].replace(/\+/g,"%20"))||null}},"44e7":function(t,e,i){var n=i("861d"),r=i("c6b6"),s=i("b622"),a=s("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},4635:function(t,e,i){},"4a78":function(t,e,i){},"4d63":function(t,e,i){var n=i("83ab"),r=i("da84"),s=i("94ca"),a=i("7156"),o=i("9bf2").f,c=i("241c").f,u=i("44e7"),d=i("ad6d"),l=i("9f7f"),h=i("6eeb"),f=i("d039"),m=i("69f3").set,p=i("2626"),g=i("b622"),v=g("match"),y=r.RegExp,$=y.prototype,_=/a/g,w=/a/g,b=new y(_)!==_,M=l.UNSUPPORTED_Y,S=n&&s("RegExp",!b||M||f((function(){return w[v]=!1,y(_)!=_||y(w)==w||"/a/i"!=y(_,"i")})));if(S){var D=function(t,e){var i,n=this instanceof D,r=u(t),s=void 0===e;if(!n&&r&&t.constructor===D&&s)return t;b?r&&!s&&(t=t.source):t instanceof D&&(s&&(e=d.call(t)),t=t.source),M&&(i=!!e&&e.indexOf("y")>-1,i&&(e=e.replace(/y/g,"")));var o=a(b?new y(t,e):y(t,e),n?this:$,D);return M&&i&&m(o,{sticky:i}),o},x=function(t){t in D||o(D,t,{configurable:!0,get:function(){return y[t]},set:function(e){y[t]=e}})},I=c(y),P=0;while(I.length>P)x(I[P++]);$.constructor=D,D.prototype=$,h(r,"RegExp",D)}p("RegExp")},"5a0c":function(t,e,i){!function(e,i){t.exports=i()}(0,(function(){"use strict";var t="millisecond",e="second",i="minute",n="hour",r="day",s="week",a="month",o="quarter",c="year",u="date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f=function(t,e,i){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(i)+t},m={s:f,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),n=Math.floor(i/60),r=i%60;return(e<=0?"+":"-")+f(n,2,"0")+":"+f(r,2,"0")},m:function t(e,i){if(e.date()<i.date())return-t(i,e);var n=12*(i.year()-e.year())+(i.month()-e.month()),r=e.clone().add(n,a),s=i-r<0,o=e.clone().add(n+(s?-1:1),a);return+(-(n+(i-r)/(s?r-o:o-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(d){return{M:a,y:c,w:s,d:r,D:u,h:n,m:i,s:e,ms:t,Q:o}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},p="en",g={};g[p]=h;var v=function(t){return t instanceof w},y=function(t,e,i){var n;if(!t)return p;if("string"==typeof t)g[t]&&(n=t),e&&(g[t]=e,n=t);else{var r=t.name;g[r]=t,n=r}return!i&&n&&(p=n),n||!i&&p},$=function(t,e){if(v(t))return t.clone();var i="object"==typeof e?e:{};return i.date=t,i.args=arguments,new w(i)},_=m;_.l=y,_.i=v,_.w=function(t,e){return $(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var w=function(){function h(t){this.$L=y(t.locale,null,!0),this.parse(t)}var f=h.prototype;return f.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(_.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(d);if(n){var r=n[2]-1||0,s=(n[7]||"0").substring(0,3);return i?new Date(Date.UTC(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},f.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},f.$utils=function(){return _},f.isValid=function(){return!("Invalid Date"===this.$d.toString())},f.isSame=function(t,e){var i=$(t);return this.startOf(e)<=i&&i<=this.endOf(e)},f.isAfter=function(t,e){return $(t)<this.startOf(e)},f.isBefore=function(t,e){return this.endOf(e)<$(t)},f.$g=function(t,e,i){return _.u(t)?this[e]:this.set(i,t)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(t,o){var d=this,l=!!_.u(o)||o,h=_.p(t),f=function(t,e){var i=_.w(d.$u?Date.UTC(d.$y,e,t):new Date(d.$y,e,t),d);return l?i:i.endOf(r)},m=function(t,e){return _.w(d.toDate()[t].apply(d.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),d)},p=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case c:return l?f(1,0):f(31,11);case a:return l?f(1,g):f(0,g+1);case s:var $=this.$locale().weekStart||0,w=(p<$?p+7:p)-$;return f(l?v-w:v+(6-w),g);case r:case u:return m(y+"Hours",0);case n:return m(y+"Minutes",1);case i:return m(y+"Seconds",2);case e:return m(y+"Milliseconds",3);default:return this.clone()}},f.endOf=function(t){return this.startOf(t,!1)},f.$set=function(s,o){var d,l=_.p(s),h="set"+(this.$u?"UTC":""),f=(d={},d[r]=h+"Date",d[u]=h+"Date",d[a]=h+"Month",d[c]=h+"FullYear",d[n]=h+"Hours",d[i]=h+"Minutes",d[e]=h+"Seconds",d[t]=h+"Milliseconds",d)[l],m=l===r?this.$D+(o-this.$W):o;if(l===a||l===c){var p=this.clone().set(u,1);p.$d[f](m),p.init(),this.$d=p.set(u,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](m);return this.init(),this},f.set=function(t,e){return this.clone().$set(t,e)},f.get=function(t){return this[_.p(t)]()},f.add=function(t,o){var u,d=this;t=Number(t);var l=_.p(o),h=function(e){var i=$(d);return _.w(i.date(i.date()+Math.round(e*t)),d)};if(l===a)return this.set(a,this.$M+t);if(l===c)return this.set(c,this.$y+t);if(l===r)return h(1);if(l===s)return h(7);var f=(u={},u[i]=6e4,u[n]=36e5,u[e]=1e3,u)[l]||1,m=this.$d.getTime()+t*f;return _.w(m,this)},f.subtract=function(t,e){return this.add(-1*t,e)},f.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var i=t||"YYYY-MM-DDTHH:mm:ssZ",n=_.z(this),r=this.$locale(),s=this.$H,a=this.$m,o=this.$M,c=r.weekdays,u=r.months,d=function(t,n,r,s){return t&&(t[n]||t(e,i))||r[n].substr(0,s)},h=function(t){return _.s(s%12||12,t,"0")},f=r.meridiem||function(t,e,i){var n=t<12?"AM":"PM";return i?n.toLowerCase():n},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:_.s(o+1,2,"0"),MMM:d(r.monthsShort,o,u,3),MMMM:d(u,o),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:d(r.weekdaysMin,this.$W,c,2),ddd:d(r.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(s),HH:_.s(s,2,"0"),h:h(1),hh:h(2),a:f(s,a,!0),A:f(s,a,!1),m:String(a),mm:_.s(a,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:n};return i.replace(l,(function(t,e){return e||m[t]||n.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(t,u,d){var l,h=_.p(u),f=$(t),m=6e4*(f.utcOffset()-this.utcOffset()),p=this-f,g=_.m(this,f);return g=(l={},l[c]=g/12,l[a]=g,l[o]=g/3,l[s]=(p-m)/6048e5,l[r]=(p-m)/864e5,l[n]=p/36e5,l[i]=p/6e4,l[e]=p/1e3,l)[h]||p,d?g:_.a(g)},f.daysInMonth=function(){return this.endOf(a).$D},f.$locale=function(){return g[this.$L]},f.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),n=y(t,e,!0);return n&&(i.$L=n),i},f.clone=function(){return _.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},h}(),b=w.prototype;return $.prototype=b,[["$ms",t],["$s",e],["$m",i],["$H",n],["$W",r],["$M",a],["$y",c],["$D",u]].forEach((function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),$.extend=function(t,e){return t.$i||(t(e,w,$),t.$i=!0),$},$.locale=y,$.isDayjs=v,$.unix=function(t){return $(1e3*t)},$.en=g[p],$.Ls=g,$.p={},$}))},"65bc":function(t,e,i){"use strict";i("4a78")},"6e13":function(t,e,i){"use strict";i.r(e);var n=i("eccf"),r=i("1da1"),s=(i("96cf"),i("a9e3"),i("159b"),i("d3b7"),i("25f0"),i("13d5"),i("4de4"),i("b680"),i("7db0"),i("a434"),i("5a0c")),a=i.n(s),o=i("fd2d"),c=i("297b"),u=i("87c6"),d={name:"Trade",data:function(){return{activeOrder:{},wholeTime:100,openAlert:!1,openPing:!1,openCancel:!1,openSet:!1,lossPrice:0,setId:0,winPrice:0,winPriceY:0,lossPriceY:0,pingId:0,cancelId:0,trade:1,docked:!1,open:!1,openTradeMode:!1,position:"left",quotationsList:[],options:[],tradeMode:"buy",priceMode:"shijia",sliderValue:0,price:0,number:0,inMaxValue:0,inList:[],sellMaxValue:0,outList:[],newData:0,active1:0,active2:0,currency_id:0,currency_name:"",bestPrice:this.$t("lever.bestprice"),multi:[],shared:[],tmuti:"",tshared:"",user_lever:0,fee:0,bons:0,tradeAmount:0,shareNum:0,loadType:1,list_content:[],slist_content:[],secondModes:[],secondTimes:[],tstime:0,tsrate:0,secondsNumbers:[],tsnumber:"",secondsMoneyMode:0,tswallet:!1,match_id:"",CountDown:0,limit:0,miscroOrder:{},timer:null,showMicroWind:!1,length:2*Math.PI*100,currency_type:0}},components:{Footer:o["a"],FilterBar:u["a"]},computed:{amount:function(){return this.secondTimes.length?Number(this.secondTimes[this.tstime].money):""}},watch:{priceMode:function(t){this.price=this.newData},tradeMode:function(t){this.price=this.newData},tmuti:function(t){this.calcAmount()},tshared:function(t){this.calcAmount()},price:function(t){this.calcAmount()},loadType:function(t){this.list_content=[],t>1&&this.getListContent()},active2:function(t){this.slist_content=[],this.getSListContent()},secondsMoneyMode:function(t){this.tsnumber="";var e=[];this.secondModes[t].micro_numbers.forEach((function(t){e.push(parseInt(t.number).toString())})),this.secondsNumbers=e,this.tswallet=this.secondModes[t].user_wallet},tstime:function(t){this.tsrate=this.secondTimes[t].profit_ratio},winPrice:function(t){this.add(1),this.reduce(1)},lossPrice:function(t){this.add(2),this.reduce(2)}},mounted:function(){"lever"==this.from?(this.buyText=this.$t("lever.domore"),this.sellText=this.$t("lever.doshort")):"second"==this.from&&(this.buyText=this.$t("miscro.up"),this.sellText=this.$t("miscro.down")),Object(c["a"])("mode",window.location.href)&&(this.trade=parseInt(Object(c["a"])("mode",window.location.href))),"out"===Object(c["a"])("way",window.location.href)?this.tradeMode="sell":this.tradeMode="buy",this.init(),this.getSeconds(),this.loadSeconds(),this.getSListContent();var t=this;eventBus.$on("updateKLine",(function(e){t.newData=e.close}))},methods:{isOpenAlert:function(){var t=Number(this.tswallet.micro_balance);t<this.amount?this.$toast.fail(this.$t("miscro.tips")):this.openAlert=!0},getRemain:function(){var t=+a()();return parseInt((this.activeOrder.endTime-t)/1e3)},change:function(t){this.currency_type=t},changePro:function(t){},update:function(t,e){var i=document.querySelector(".e-c-progress"),n=(document.getElementById("e-indicator"),document.getElementById("e-pointer")),r=2*Math.PI*100;i.style.strokeDasharray=r;var s=-r-r*t/e;i.style.strokeDashoffset=s,n.style.transform="rotate(".concat(360*t/e,"deg)")},init:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,n,r,s,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.subScribeMarket();case 2:i=Number(localStorage.getItem("tabIndex")),window.localStorage.getItem("currentCurrency")||(n=t.quotationsList.filter((function(t){return t.currency_type===i}))[0],r=n.currency_name,s=void 0===r?"BTC":r,a=n.currency_id,o=void 0===a?1:a,window.localStorage.setItem("currentCurrency",s),window.localStorage.setItem("currentCurrencyID",o)),t.currency_name=window.localStorage.getItem("currentCurrency"),t.currency_id=Number(window.localStorage.getItem("currentCurrencyID")),t.getSharedAndMulti(),t.subscribeMicro(),t.options=[{label:t.$t("center.shi"),value:"shijia"},{value:"xianjia",label:t.$t("center.xian")}],t.subScribeDepth();case 10:case"end":return e.stop()}}),e)})))()},getDayColor:function(t){var e={};return e[t]="day"===localStorage.getItem("mode")?"#eee":"#39393a",e},getSharedAndMulti:function(){var t=this,e="/api/lever/deal";this.$http({url:e,method:"post",data:{currency_id:this.currency_id,legal_id:3},headers:{Authorization:localStorage.getItem("token")}}).then((function(e){"ok"==e.data.type&&(t.multi=e.data.message.multiple.muit,t.tmuti=t.multi[0].value,t.shared=e.data.message.multiple.share,t.user_lever=e.data.message.user_lever)}))},subScribeMarket:function(){var t=this;return this.$http({url:"/api/currency/quotation_new",method:"get",data:{}}).then((function(e){if("ok"===e.data.type){for(var i=[],n=0;n<e.data.message.length;n++)for(var r=0;r<e.data.message[n].quotation.length;r++)i.push(e.data.message[n].quotation[r]),e.data.message[n].quotation[r].currency_name===t.currency_name&&(t.currency_id=e.data.message[n].quotation[r].currency_id,t.match_id=e.data.message[n].quotation[r].id,t.shareNum=e.data.message[n].quotation[r].lever_share_num*e.data.message[n].quotation[r].now_price);t.quotationsList=i,t.sockets.subscribe("daymarket",(function(e){if("daymarket"==e.type)for(var i=0;i<t.quotationsList.length;i++)t.quotationsList[i].legal_id===e.legal_id&&t.quotationsList[i].currency_id===e.currency_id&&(t.quotationsList[i].now_price=e.now_price,t.quotationsList[i].change=e.change,t.quotationsList[i].volume=e.volume,t.quotationsList[i].high=e.high,t.quotationsList[i].low=e.low)}))}})).catch((function(t){}))},subScribeDepth:function(){var t=this;t.sockets.subscribe("market_depth",(function(e){if("market_depth"==e.type){var i=e.bids,n=e.asks.reverse();if(e.currency_id===t.currency_id&&3===e.legal_id){var r=i,s=n,a=0,o=0;for(var c in i)r[c].price=r[c][0],r[c].number=r[c][1],a=r[c].number>a?r[c].number:a;for(var u in t.inMaxValue=a,t.inList=r,s)s[u].price=s[u][0],s[u].number=s[u][1],o=s[u].number>o?s[u].number:o;0==t.price&&(t.price=t.newData),t.sellMaxValue=o,t.outList=s}}})),t.sockets.subscribe("kline",(function(e){var i={};t.currency_name+"/USDT"==e.symbol&&(i.open=Number(e.open),i.low=Number(e.low),i.high=Number(e.high),i.close=Number(e.close),i.volume=Number(e.volume),i.time=Number(e.time),i.change=e.change,i.period=e.period,e.currency_name===window.localStorage.getItem("currentCurrency")&&"1min"===i.period&&eventBus.$emit("updateKLine",i))}))},changeCurrency:function(t,e){window.localStorage.setItem("currentCurrency",t),window.localStorage.setItem("currentCurrencyID",e),this.open=!1,this.currency_name=t,this.currency_id=e,this.price=0,location.reload()},calcAmount:function(){var t=this;if(t.tradeAmount=0,t.fee=0,t.bons=0,""!==this.price&&""!==this.tshared&&""!==this.tmuti){var e=this.price,i=this.tmuti,n=this.tshared,r=this.tradeMode;this.$http({url:"/api/currency/quotation_new",method:"get",data:{},headers:{Authorization:localStorage.getItem("token"),not_loading:!0}}).then((function(s){if("ok"===s.data.type){var a=s.data.message[0].quotation;for(var o in a)if(t.currency_id===a[o].currency_id){var c=a[o].spread,u=a[o].lever_trade_fee,d=1*e*c/100,l=0;l="sell"===r?1*e-(d-0):1*e+(d-0),i=parseFloat(i).toFixed(4),n=parseFloat(n).toFixed(4);var h=parseFloat(a[o].lever_share_num).toFixed(4);t.shareNum=e*h;var f=l*n*h,m=(f-0)/(i-0),p=f*u/100;t.tradeAmount=(e*n*h).toFixed(4),t.fee=p,t.bons=m,console.log(t.tradeAmount,t.fee,t.bons)}}})).catch((function(t){console.log(t)}))}},getListContent:function(){var t=this;this.$http({url:"/api/lever/my_trade",method:"post",headers:{Authorization:localStorage.getItem("token")},data:{status:this.loadType+1,legal_id:3,currency_id:this.currency_id,page:1,limit:100}}).then((function(e){"ok"===e.data.type&&(t.list_content=e.data.message.message.data)}))},getSListContent:function(){var t=this;this.$http({url:"/api/microtrade/lists",method:"get",headers:{Authorization:localStorage.getItem("token")},data:{status:3,legal_id:3,currency_id:this.currency_id,page:1,match_id:this.match_id,limit:100}}).then((function(e){if("ok"===e.data.type){var i=e.data.message.data.filter((function(e){return e.status===(0===t.active2?1:3)})),n=(new Date).getTime();i.forEach((function(t){t.endTime=n-0+(t.remain_milli_seconds-0)})),t.slist_content=i,t.Djs_time()}}))},getSeconds:function(){var t=this;this.$http({url:"/api/microtrade/payable_currencies",method:"get",headers:{Authorization:localStorage.getItem("token")}}).then((function(e){if("ok"===e.data.type&&(t.secondModes=e.data.message,t.tswallet=t.secondModes[0].user_wallet,0===t.secondsNumbers.length)){var i=[];t.secondModes[0].micro_numbers.forEach((function(t){i.push(parseInt(t.number).toString())})),t.secondsNumbers=i}}))},loadSeconds:function(){var t=this;this.$http({url:"/api/microtrade/seconds",method:"get",headers:{Authorization:localStorage.getItem("token")}}).then((function(e){if("ok"===e.data.type){var i=[];e.data.message.forEach((function(t){1===t.status&&i.push(t)})),t.tsrate=i[0].profit_ratio,t.secondTimes=i}}))},buyContract:function(){if(this.price<1e-8)this.$toast.fail(this.$t("lever.pprice"));else if(this.tshared<=1e-8)this.$toast.fail(this.$t("lever.phand"));else if(this.tmuti<=1e-8)this.$toast.fail(this.$t("lever.ptimes"));else{var t="/api/lever/submit",e=this,i=this.$loading();e.openAlert=!1,this.$http({url:t,method:"post",data:{legal_id:3,currency_id:this.currency_id,multiple:parseInt(this.tmuti),share:parseInt(this.tshared),type:"buy"===this.tradeMode?1:2,status:"xianjia"===this.priceMode?0:1,target_price:this.price},headers:{Authorization:localStorage.getItem("token")}}).then((function(t){i.close(),"ok"===t.data.type?(e.price=0,e.number="",e.getListContent(),eventBus.$emit("buyTrade","tradebuy"),eventBus.$emit("tocel","updata"),eventBus.$emit("to_leverExchange","leverExchange"),e.$toast.success(t.data.message)):e.$toast.fail(t.data.message)})).catch((function(t){console.log(t),e.openAlert=!1}))}},buySecond:function(){if(this.tsnumber<1e-8)this.$toast.fail(this.$t("footer.openNum"));else{var t=this.$loading(),e=this;e.openAlert=!1,this.$http({url:"/api/microtrade/submit",method:"post",data:{match_id:e.match_id,currency_id:e.secondModes[e.secondsMoneyMode].id,type:"buy"===e.tradeMode?1:2,seconds:e.secondTimes[e.tstime].seconds,number:e.tsnumber},headers:{Authorization:window.localStorage.getItem("token")}}).then((function(i){t.close(),e.openAlert=!1,e.miscroOrder=i.data.message,e.miscroOrder.endTime=a()(e.miscroOrder.created_at).valueOf()+1e3*e.miscroOrder.seconds,console.log(e.miscroOrder),"ok"==i.data.type?(e.$toast.success(e.$t("miscro.success")),e.showWind1(e.miscroOrder),e.getSeconds(),e.getSListContent()):e.$toast.fail(i.data.message)}))}},showWind:function(){},showWind1:function(t){var e=this;this.activeOrder=t,this.showMicroWind=!0,null!==this.timer&&(clearInterval(this.timer),this.timer=null);var i=this.activeOrder,n=i.created_at,r=i.endTime,s=a()().diff(a()(n));this.activeOrder.endTime=r+s,console.log("当前活跃订单",e.activeOrder),console.log("当前时间",Date.parse(new Date)),console.log("剩余时间",parseInt((Date.parse(new Date(e.activeOrder.handled_at))-Date.parse(new Date(e.activeOrder.created_at)))/1e3)),this.timer=setInterval((function(){var t=+a()(),i=parseInt((e.activeOrder.endTime-t)/1e3);i<=0?(clearInterval(e.timer),e.timer=null,e.activeOrder.status=2,setTimeout((function(){e.getTradeList()}),8e3)):e.update(i,e.activeOrder.seconds)}),1e3)},getTradeList:function(){var t=this;this.$http({url:"/api/microtrade/lists",method:"get",headers:{Authorization:localStorage.getItem("token")},data:{status:3,legal_id:3,currency_id:this.currency_id,page:1,match_id:this.match_id,limit:100}}).then((function(e){if("ok"===e.data.type){var i=e.data.message.data,n=i.find((function(e){return e.id==t.activeOrder.id})),r=n.status;r&&3!==r&&(n.status=2),t.activeOrder=n||t.activeOrder;var s=t.activeOrder.status;console.log("结算中: ",n,s),3!==s&&setTimeout((function(){t.getTradeList()}),1e3)}}))},subscribeMicro:function(){var t=this;this.$socket.emit("login",localStorage.getItem("user_id")),this.sockets.subscribe("closed_microorder",(function(e){if("closed_microorder"==e.type)for(var i=e.data,n=0;n<t.slist_content.length;n++)if(t.slist_content[n].id==i.id)return t.slist_content[n]=i,setTimeout((function(){var e=t.slist_content;e.splice(n,1),t.slist_content=e}),500),!1}))},countDown:function(t,e,i){var n=this,r=(Number(i),i="",t),s=((new Date).getTime(),r-this.CountDown);return s>0?(i=n.$utils.filterDecimals(s/1e3,1),i):s<=0?0:void 0},Djs_time:function(){var t=this;setInterval((function(){var e=(new Date).getTime();t.CountDown=e}),200)},pingcang:function(t){var e=this;e.$http({url:"/api/lever/close",method:"post",data:{id:t},headers:{Authorization:localStorage.getItem("token")}}).then((function(t){"ok"===t.data.type?(e.$toast.success(t.data.message),e.getListContent(),e.openPing=!1):e.$toast.fail(t.data.message)})).catch((function(t){console.log(t)}))},cancel:function(t){var e=this;e.$http({url:"/api/lever/cancel",method:"post",data:{id:t},headers:{Authorization:localStorage.getItem("token")}}).then((function(t){e.openCancel=!1,"ok"==t.data.type?(e.$toast.success(t.data.message),e.getListContent()):e.$toast.fail(t.data.message)})).catch((function(t){}))},setLoss:function(){var t=this;this.$http({url:"/api/lever/setstop",method:"post",data:{id:t.setId,target_profit_price:t.winPrice,stop_loss_price:t.lossPrice},headers:{Authorization:localStorage.getItem("token")}}).then((function(e){if("ok"==e.data.type)for(var i in t.openSet=!1,t.$toast.success(e.data.message),t.list_content)t.setId==t.list_content[i].id&&(t.list_content[i].target_profit_price=t.winPrice,t.list_content[i].stop_loss_price=t.lossPrice);else t.openSet=!1,t.$toast.fail(e.data.message)})).catch((function(t){console.log(t)}))},add:function(t){var e=this,i=e.list_content.filter((function(t){return t.id===e.setId}))[0];1===i.type?1==t?(e.winPrice=(parseFloat(e.winPrice)+.01).toFixed(2),e.winPriceY=((parseFloat(e.winPrice)-i.price-0)*(i.share-0)).toFixed(2)):(e.lossPrice=(parseFloat(e.lossPrice)+.01).toFixed(2),e.lossPriceY=((i.price-e.lossPrice-0)*(i.share-0)).toFixed(2)):1==t?(e.winPrice=(parseFloat(e.winPrice)+.01).toFixed(2),e.winPriceY=((parseFloat(i.price-e.winPrice)-0)*(e.share-0)).toFixed(2)):(e.lossPrice=(parseFloat(e.lossPrice)+.01).toFixed(2),e.lossPriceY=((parseFloat(e.lossPriceY-e.price)-0)*(i.share-0)).toFixed(2))},reduce:function(t){var e=this,i=e.list_content.filter((function(t){return t.id===e.setId}))[0];1===i.type?1==t?e.winPrice>0?(e.winPrice=(parseFloat(e.winPrice)-.01).toFixed(2),e.winPriceY=((parseFloat(e.winPrice)-i.price-0)*(i.share-0)).toFixed(2)):e.$toast.fail(e.$t("lever.thanzone")):e.lossPrice>0?(e.lossPrice=(parseFloat(e.lossPrice)-.01).toFixed(2),e.lossPriceY=((i.price-e.lossPrice-0)*(i.share-0)).toFixed(2)):e.$toast.fail(e.$t("lever.thanzone")):1==t?e.winPrice>0?(e.winPrice=(parseFloat(e.winPrice)-.01).toFixed(2),e.winPriceY=((i.price-e.winPrice-0)*(i.share-0)).toFixed(2)):e.$toast.fail(e.$t("lever.thanzone")):e.lossPrice>0?(e.lossPrice=(parseFloat(e.lossPrice)-.01).toFixed(2),e.lossPriceY=((parseFloat(e.lossPriceY-i.price)-0)*(e.share-0)).toFixed(2)):e.$toast.fail(e.$t("lever.thanzone"))}}},l=d,h=(i("65bc"),i("5b8e"),i("f1bd"),i("2877")),f=Object(h["a"])(l,n["a"],n["b"],!1,null,null,null);e["default"]=f.exports},"7db0":function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").find,s=i("44d2"),a="find",o=!0;a in[]&&Array(1)[a]((function(){o=!1})),n({target:"Array",proto:!0,forced:o},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s(a)},a434:function(t,e,i){"use strict";var n=i("23e7"),r=i("23cb"),s=i("a691"),a=i("50c4"),o=i("7b0b"),c=i("65f0"),u=i("8418"),d=i("1dde"),l=d("splice"),h=Math.max,f=Math.min,m=9007199254740991,p="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!l},{splice:function(t,e){var i,n,d,l,g,v,y=o(this),$=a(y.length),_=r(t,$),w=arguments.length;if(0===w?i=n=0:1===w?(i=0,n=$-_):(i=w-2,n=f(h(s(e),0),$-_)),$+i-n>m)throw TypeError(p);for(d=c(y,n),l=0;l<n;l++)g=_+l,g in y&&u(d,l,y[g]);if(d.length=n,i<n){for(l=_;l<$-n;l++)g=l+n,v=l+i,g in y?y[v]=y[g]:delete y[v];for(l=$;l>$-n+i;l--)delete y[l-1]}else if(i>n)for(l=$-n;l>_;l--)g=l+n-1,v=l+i-1,g in y?y[v]=y[g]:delete y[v];for(l=0;l<i;l++)y[l+_]=arguments[l+2];return y.length=$-n+i,d}})},b289:function(t,e,i){},d58f:function(t,e,i){var n=i("1c0b"),r=i("7b0b"),s=i("44ad"),a=i("50c4"),o=function(t){return function(e,i,o,c){n(i);var u=r(e),d=s(u),l=a(u.length),h=t?l-1:0,f=t?-1:1;if(o<2)while(1){if(h in d){c=d[h],h+=f;break}if(h+=f,t?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:l>h;h+=f)h in d&&(c=i(c,d[h],h,u));return c}};t.exports={left:o(!1),right:o(!0)}},f1bd:function(t,e,i){"use strict";i("4635")}}]);