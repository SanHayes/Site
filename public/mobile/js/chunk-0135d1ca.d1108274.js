(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0135d1ca"],{"1c00":function(t,i,n){},"786e":function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("mu-container",{staticClass:"container-my"},[n("div",{staticClass:"home lockming"},[n("div",{staticClass:"header"},[t._v(" "+t._s(t.income.currency_name||"")+t._s(t.$t("lockming.lockming"))+" "),n("mu-button",{attrs:{icon:""},on:{click:function(i){return t.$router.back(-1)}}},[n("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-fanhui2"}})])])],1),n("div",{staticClass:"container-my"},[n("div",{staticClass:"deposit mt15 mx15"},[n("div",{staticClass:"fs14"},[t._v(" "+t._s(t.income.currency_name||"")+t._s(t.$t("lockming.lockming"))+" ")]),n("div",{staticClass:"fs16 mt5"},[t._v(" "+t._s(t.$t("lockming.acquisition"))+t._s(t.income.currency_name||"")+" ")]),n("div",{staticClass:"earnings-wrap mt15"},[n("div",{staticClass:"earnings"},[n("div",[n("div",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.minimumSingleTransaction")))]),n("div",{staticClass:"mt5"},[t._v(" "+t._s(t.income.pricemin))])]),n("div",[n("div",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.dailyYield")))]),n("div",{staticClass:"mt5"},[t._v(" "+t._s(t.income.rates||0)+"%")])]),n("div",[n("div",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.lockUpPeriod")))]),n("div",{staticClass:"mt5"},[t._v(" "+t._s(t.income.days)+"("+t._s(t.$t("lockming.day"))+")")])])])])]),n("div",{staticClass:"mt15 mx15"},[n("div",{staticClass:"p15 box-shadow border-radius-10 mb10 bg-black"},[n("div",{staticClass:"title d-flex-between-center"},[n("span",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.dividendTime")))]),n("span",{staticClass:"font-weight-bold text-warning fs14 px10"},[t._v(" "+t._s(t.income.days)+"("+t._s(t.$t("lockming.day"))+")"+t._s(t.$t("lockming.redemption"))+" ")])]),n("div",{staticClass:"title d-flex-between-center mt10"},[n("span",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.escrowFunds")))]),n("span",{staticClass:"font-weight-bold text-warning fs14 px10"},[t._v(" "+t._s(t.$t("lockming.returnOnExpiration"))+" ")])])])]),n("div",{staticClass:"mt15 mx15"},[n("div",{staticClass:"p15 box-shadow border-radius-10 mb10 bg-black"},[n("div",{staticClass:"number"},[n("div",{staticClass:"title opa50"},[t._v(t._s(t.$t("lockming.numberOfCoinsDeposited"))+"("+t._s(t.income.currency_name)+")")]),n("div",{staticClass:"num-inp"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{type:"number"},domProps:{value:t.money},on:{input:function(i){i.target.composing||(t.money=i.target.value)}}}),n("span",{staticClass:"tag tag-warning fs14 px10",on:{click:t.all}},[t._v(" "+t._s(t.$t("lockming.all"))+" ")])])]),n("div",{staticClass:"title d-flex-between-center mt10"},[n("span",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.estimatedIncome"))+"("+t._s(t.income.currency_name)+")")]),n("span",{staticClass:"font-weight-bold text-warning fs14 px10"},[t._v(" "+t._s((t.money*parseFloat(t.income.rates)/100).toFixed(8))+" ")])]),n("div",{staticClass:"title d-flex-between-center mt10"},[n("span",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.availableAssets"))+"("+t._s(t.income.currency_name)+")")]),n("span",{staticClass:"font-weight-bold text-warning fs14 px10"},[t._v(" "+t._s(t.balance)+" ")])])])])]),n("div",{staticClass:"footer"},[n("mu-button",{staticStyle:{background:"linear-gradient(1deg,#ffcc8f,#ffedd8)"},attrs:{"full-width":""},on:{click:t.submit}},[t._v(" "+t._s(t.$t("lockming.subscribe"))+" ")])],1)])])},s=[],a=n("1da1"),c=(n("a9e3"),n("7db0"),n("d3b7"),n("96cf"),n("fd2d")),o={name:"LockMing",components:{Footer:c["a"]},data:function(){return{income:{},id:"",money:"",balance:0}},computed:{i18n:function(){return this.$t("lockming")}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.id=t.$route.params.id,n=t.$loading(),i.next=4,t.getIncome();case 4:return i.next=6,t.getWallets();case 6:n.close();case 7:case"end":return i.stop()}}),i)})))()},methods:{inputMax:function(t){console.log("blur",this.money),Number(this.money)>Number(this.balance)&&(this.money=this.balance),Number(this.money)<Number(this.income.pricemin)&&(this.money=this.income.pricemin)},getIncome:function(){var t=this;return this.$http({url:"/api/get_mining_machine_info",method:"GET",params:{id:this.id},headers:{Authorization:localStorage.getItem("token")}}).then((function(i){var n=i.data;t.income=n.message||{}}))},getWallets:function(){var t=this,i=this.income.currency_name;return this.$http({url:"/api/wallet/list",method:"post",headers:{Authorization:localStorage.getItem("token")}}).then((function(n){var e=n.data.message||{},s=e.micro_wallet;if(s){var a=s.balance||[],c=a.find((function(t){return t.currency_name===i}));t.balance=c.micro_balance||0}}))},all:function(){this.money=this.balance},submit:function(){var t=this,i=this.i18n,n=this.money;this.pid,this.uid;if(!n||!this.amount(n))return this.$toast(i.p_number);if(n<Number(this.income.pricemin))return this.$toast(i.leastSingle+Number(this.income.pricemin));if(n>Number(this.balance))return this.$toast(i.insufficientBalance);var e=this.$loading();this.$http({url:"/api/buy_mining_machine",method:"post",headers:{Authorization:localStorage.getItem("token")},data:{id:this.id,money:this.money}}).then((function(i){t.$toast.success(t.$t("success")),setTimeout((function(){t.$router.back(-1)}),1e3)})).catch((function(i){t.$toast.fail(i.msg)})).finally((function(){e.close()}))},amount:function(t){return/^[1-9]\d*(,\d{3})*(\.\d{1,10})?$|^0\.\d{1,20}$/.test(t)}}},r=o,l=(n("870d"),n("2877")),m=Object(l["a"])(r,e,s,!1,null,"54aff7b6",null);i["default"]=m.exports},"7db0":function(t,i,n){"use strict";var e=n("23e7"),s=n("b727").find,a=n("44d2"),c="find",o=!0;c in[]&&Array(1)[c]((function(){o=!1})),e({target:"Array",proto:!0,forced:o},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),a(c)},"870d":function(t,i,n){"use strict";n("1c00")}}]);