(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bccd2b88"],{"0e43":function(t,i,e){},"786e":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("mu-container",{staticClass:"container-my"},[e("div",{staticClass:"home lockming"},[e("div",{staticClass:"header"},[t._v(" "+t._s(t.income.currency_name||"")+t._s(t.$t("lockming.lockming"))+" "),e("mu-button",{attrs:{icon:""},on:{click:function(i){return t.$router.back(-1)}}},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-fanhui2"}})])])],1),e("div",{staticClass:"container-my"},[e("div",{staticClass:"deposit mt15 mx15"},[e("div",{staticClass:"fs14"},[t._v(" "+t._s(t.income.currency_name||"")+t._s(t.$t("lockming.lockming"))+" ")]),e("div",{staticClass:"fs16 mt5"},[t._v(" "+t._s(t.$t("lockming.acquisition"))+t._s(t.income.currency_name||"")+" ")]),e("div",{staticClass:"earnings-wrap mt15"},[e("div",{staticClass:"earnings"},[e("div",[e("div",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.minimumSingleTransaction")))]),e("div",{staticClass:"mt5"},[t._v(" "+t._s(t.income.pricemin))])]),e("div",[e("div",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.dailyYield")))]),e("div",{staticClass:"mt5"},[t._v(" "+t._s(t.income.rates||0)+"%")])]),e("div",[e("div",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.lockUpPeriod")))]),e("div",{staticClass:"mt5"},[t._v(" "+t._s(t.income.days)+"("+t._s(t.$t("lockming.day"))+")")])])])])]),e("div",{staticClass:"mt15 mx15"},[e("div",{staticClass:"p15 box-shadow border-radius-10 mb10 bg-black"},[e("div",{staticClass:"title d-flex-between-center"},[e("span",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.dividendTime")))]),e("span",{staticClass:"font-weight-bold text-warning fs14 px10"},[t._v(" "+t._s(t.income.days)+"("+t._s(t.$t("lockming.day"))+")"+t._s(t.$t("lockming.redemption"))+" ")])]),e("div",{staticClass:"title d-flex-between-center mt10"},[e("span",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.escrowFunds")))]),e("span",{staticClass:"font-weight-bold text-warning fs14 px10"},[t._v(" "+t._s(t.$t("lockming.returnOnExpiration"))+" ")])])])]),e("div",{staticClass:"mt15 mx15"},[e("div",{staticClass:"p15 box-shadow border-radius-10 mb10 bg-black"},[e("div",{staticClass:"number"},[e("div",{staticClass:"title opa50"},[t._v(t._s(t.$t("lockming.numberOfCoinsDeposited"))+"("+t._s(t.income.currency_name)+")")]),e("div",{staticClass:"num-inp"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{type:"number"},domProps:{value:t.money},on:{input:function(i){i.target.composing||(t.money=i.target.value)}}}),e("span",{staticClass:"tag tag-warning fs14 px10",on:{click:t.all}},[t._v(" "+t._s(t.$t("lockming.all"))+" ")])])]),e("div",{staticClass:"title d-flex-between-center mt10"},[e("span",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.estimatedIncome"))+"("+t._s(t.income.currency_name)+")")]),e("span",{staticClass:"font-weight-bold text-warning fs14 px10"},[t._v(" "+t._s((t.money*parseFloat(t.income.rates)/100).toFixed(8))+" ")])]),e("div",{staticClass:"title d-flex-between-center mt10"},[e("span",{staticClass:"opa50"},[t._v(t._s(t.$t("lockming.availableAssets"))+"("+t._s(t.income.currency_name)+")")]),e("span",{staticClass:"font-weight-bold text-warning fs14 px10"},[t._v(" "+t._s(t.balance)+" ")])])])])]),e("div",{staticClass:"footer"},[e("mu-button",{staticStyle:{background:"linear-gradient(to top, #218adc, #55c2ff)",color:"white"},attrs:{"full-width":""},on:{click:t.submit}},[t._v(" "+t._s(t.$t("lockming.subscribe"))+" ")])],1)])])},n=[],a=e("1da1"),c=(e("a9e3"),e("7db0"),e("d3b7"),e("96cf"),e("fd2d")),o={name:"LockMing",components:{Footer:c["a"]},data:function(){return{income:{},id:"",money:"",balance:0}},computed:{i18n:function(){return this.$t("lockming")}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.id=t.$route.params.id,e=t.$loading(),i.next=4,t.getIncome();case 4:return i.next=6,t.getWallets();case 6:e.close();case 7:case"end":return i.stop()}}),i)})))()},methods:{inputMax:function(t){console.log("blur",this.money),Number(this.money)>Number(this.balance)&&(this.money=this.balance),Number(this.money)<Number(this.income.pricemin)&&(this.money=this.income.pricemin)},getIncome:function(){var t=this;return this.$http({url:"/api/get_mining_machine_info",method:"GET",params:{id:this.id},headers:{Authorization:localStorage.getItem("token")}}).then((function(i){var e=i.data;t.income=e.message||{}}))},getWallets:function(){var t=this,i=this.income.currency_name;return this.$http({url:"/api/wallet/list",method:"post",headers:{Authorization:localStorage.getItem("token")}}).then((function(e){var s=e.data.message||{},n=s.micro_wallet;if(n){var a=n.balance||[],c=a.find((function(t){return t.currency_name===i}));t.balance=c.micro_balance||0}}))},all:function(){this.money=this.balance},submit:function(){var t=this,i=this.i18n,e=this.money;this.pid,this.uid;if(!e||!this.amount(e))return this.$toast(i.p_number);if(e<Number(this.income.pricemin))return this.$toast(i.leastSingle+Number(this.income.pricemin));if(e>Number(this.balance))return this.$toast(i.insufficientBalance);var s=this.$loading();this.$http({url:"/api/buy_mining_machine",method:"post",headers:{Authorization:localStorage.getItem("token")},data:{id:this.id,money:this.money}}).then((function(i){t.$toast.success(t.$t("success")),setTimeout((function(){t.$router.back(-1)}),1e3)})).catch((function(i){t.$toast.fail(i.msg)})).finally((function(){s.close()}))},amount:function(t){return/^[1-9]\d*(,\d{3})*(\.\d{1,10})?$|^0\.\d{1,20}$/.test(t)}}},r=o,l=(e("ca0c"),e("2877")),m=Object(l["a"])(r,s,n,!1,null,"b6f38204",null);i["default"]=m.exports},ca0c:function(t,i,e){"use strict";e("0e43")}}]);